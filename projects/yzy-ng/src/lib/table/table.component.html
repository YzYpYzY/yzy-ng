<table [ngStyle]="{ 'grid-template-columns': columnStyle }">
    <tr>
        <ng-container *ngFor="let column of visibleColumns">
            <th (click)="toggleSort(column.attribute)">
                {{ column.name }}
                <i
                    *ngIf="
                        activeSort && activeSort.attribute === column.attribute
                    "
                    [ngClass]="{
                        'gg-arrow-up': activeSort.isDesc === false,
                        'gg-arrow-down': activeSort.isDesc === true
                    }"
                ></i>
            </th>
        </ng-container>
    </tr>
    <tr *ngFor="let item of displayedItems" (click)="selectE(item)">
        <td *ngFor="let column of visibleColumns; trackBy: trackByFn">
            <yzy-cell
                [value]="item[column.attribute]"
                [column]="column"
            ></yzy-cell>
        </td>
    </tr>
</table>

<div class="actions">
    <div class="icon" (click)="toggleSortChoice()">
        <i
            [ngClass]="{
                'gg-close-o': isSortsVisible,
                'gg-sort-az': !isSortsVisible
            }"
        ></i>
    </div>
    <div class="icon" (click)="toggleFilter()">
        <i
            [ngClass]="{
                'gg-close-o': isFilterVisible,
                'gg-search': !isFilterVisible
            }"
        ></i>
    </div>
    <div class="icon" (click)="addE()"><i class="gg-add"></i></div>
    <yzy-paginator
        *ngIf="isPaginator"
        [pageLinkNumber]="pageLinkNumber"
        [count]="itemsCount"
        [itemByPage]="itemByPage"
        [selectedPage]="selectedPage"
        (changePage)="selectPage($event)"
    ></yzy-paginator>
</div>
<div class="sorts" [ngClass]="{ visible: isSortsVisible }">
    <div class="title">Sorts</div>
    <div *ngFor="let col of columns" class="sort">
        <i class="gg-arrow-up" (click)="applySort(col.attribute, false)"></i>
        {{ col.name }}
        <i class="gg-arrow-down" (click)="applySort(col.attribute, true)"></i>
    </div>
</div>
<div class="filter" [ngClass]="{ visible: isFilterVisible }">
    <input type="text" [(ngModel)]="filter" (change)="applySearch()" />
    <div class="search">
        <i (click)="applySearch()" class="gg-search"></i>
    </div>
</div>
